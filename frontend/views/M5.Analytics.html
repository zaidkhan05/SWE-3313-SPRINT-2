<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Manager Dashboard - Analytics</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/M0.Style.css">
    <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'>
    
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: 'Oswald', sans-serif;
        padding: 40px;
        background-color: #eee6deff;
      }

      .accordion-container {
        width: 100%;
        max-width: 1000px;
        margin: 80px auto 0 auto;
      }

      .accordion {
        font-family: 'Oswald';
        font-size: 25px;
        color: #6b3e37;
        font-style: italic;
        background-color: #ffefc2ff;
        text-align: left;
        border: 2px solid #000000;
        outline: none;
        cursor: pointer;
        width: 100%;   
        padding: 25px 30px;
        margin-top: 10px;
      }

      .accordion:not(.month).active {
        background-color: #ffefc2ff; /* ‚Üê replace with your desired color */
      }
      .accordion.month {
        font-size: 20px;
        font-style: none;
        background-color: white;
        padding: 20px 50px;
        margin-top: 0;
        border-top: 1px solid #ccc;
      }

      .accordion.month.active {
        background-color: white;
      }

      .accordion.active, .accordion:hover {
        background-color: rgb(216, 202, 165);
      }

      .panel {
        font-style: none;
        padding: 0;
        background-color: #517366ff;
        display: none;
        overflow: hidden;
        width: 100%;
      }

      .panel a {
        font-family: 'Oswald';
        font-size: 18px;
        font-style: none;
        font-weight: bold;
        color: #ffefc2;
        text-decoration: none;
        display: block;
        padding: 10px 70px;
        border-bottom: 1px solid #ddd;
      }

      .panel a:last-child {
        border-bottom: none;
      }

      .panel a:hover {
        background-color: rgb(59, 83, 74);
      }

      /* Needed for pop-ups */
      .modal {
          display: none;
          justify-content: center;
          align-items: center; 
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          position: fixed;

          /* SAVE FOR LATER WHEN NEEDED IN ORDERS */
          /*background-color: rgba(0, 0, 0, 0.5);*/ /*Black background with opacity */
      }
      /* The modal content box */
      .modal-content {
          font-family: 'Oswald';
          background-color: #999999ff;
          padding: 0;
          border: 1px solid #888;
          width: 90%;
          max-width: 500px;
          margin: 0 auto;
          overflow: hidden; /* ensures buttons stay flush */
          display: flex;
          flex-direction: column;
      }
      
    </style>
  </head>

  <body>

    <!-- tab screen selection -->
    <div class="top-row">

      <div class="tab">
        <a href="M1.TableView.html">
          <h2>Table View</h2>
        </a>
      </div>

      <div class="tab">
        <a href="M2.Orders.html">
          <h2>Orders</h2>
        </a>
      </div>

      <div class="tab">
        <a href="M3.OrderHistory.html">
          <h2>Order History</h2>
        </a>
      </div>

      <div class="tab">
        <a href="M4.Inventory.html">
          <h2>Inventory</h2>
        </a>
      </div>

      <div class="selectedTab">
        <h2>Analytics</h2>
      </div>

      <div class="tab">
        <a href="M6.EmployeeRegi.html">
          <h2>Employee Regi.</h2>
        </a>
      </div>

      <div class="tab">
        <a href="M7.ClockInHistory.html">
          <h2>Clock-In History</h2>
        </a>
      </div>

    </div>

    <!-- Dropdown list of months -->
    <div class="accordion-container">

      <!-- Year: 2025 -->
      <button class="accordion">- 2025</button>
      <div class="panel">

        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <a href="#">4</a>
          <a href="#">5</a>
          <a href="#">6</a>
          <a href="#">7</a>
          <a href="#">8</a>
          <a href="#">9</a>
          <a href="#">10</a>
          <a href="#">11</a>
          <a href="#">12</a>
          <a href="#">13</a>
          <a href="#">14</a>
          <a href="#">15</a>
          <a href="#">16</a>
          <a href="#">17</a>
          <a href="#">18</a>
          <a href="#">19</a>
          <a href="#">20</a>
          <a href="#">21</a>
          <a href="#">22</a>
          <a href="#">23</a>
          <a href="#">24</a>
          <a href="#">25</a>
          <a href="#">26</a>
          <a href="#">27</a>
          <a href="#">28</a>
          <a href="#">29</a>
          <a href="#">30</a>
          <a href="#">31</a>
        </div>

        <button class="accordion month">February</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <a href="#">4</a>
          <a href="#">5</a>
          <a href="#">6</a>
          <a href="#">7</a>
          <a href="#">8</a>
          <a href="#">9</a>
          <a href="#">10</a>
          <a href="#">11</a>
          <a href="#">12</a>
          <a href="#">13</a>
          <a href="#">14</a>
          <a href="#">15</a>
          <a href="#">16</a>
          <a href="#">17</a>
          <a href="#">18</a>
          <a href="#">19</a>
          <a href="#">20</a>
          <a href="#">21</a>
          <a href="#">22</a>
          <a href="#">23</a>
          <a href="#">24</a>
          <a href="#">25</a>
          <a href="#">26</a>
          <a href="#">27</a>
          <a href="#">28</a>
          <a href="#">29</a>
        </div>

        <!-- Add additional months as needed -->

      </div>

      <!-- Year: 2024 -->
      <button class="accordion">- 2024</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2023 -->
      <button class="accordion">- 2023</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2022 -->
      <button class="accordion">- 2022</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2021 -->
      <button class="accordion">- 2021</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2020 -->
      <button class="accordion">- 2020</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2019 -->
      <button class="accordion">- 2019</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2018 -->
      <button class="accordion">- 2018</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

      <!-- Year: 2017 -->
      <button class="accordion">- 2017</button>
      <div class="panel">
        <button class="accordion month">January</button>
        <div class="panel">
          <a href="#">1</a>
          <a href="#">2</a>
          <a href="#">3</a>
          <!-- etc. -->
        </div>
      </div>

    </div>

    <!-- Date Confirmation Modal -->
    <div id="dateModal" class="modal">
      <div class="modal-content">
        <div class="modal-body" id="modalText">
          <!-- Date will be inserted dynamically -->
        </div>
        <div class="modal-buttons">
          <button class="back-button" id="cancelBtn">Cancel</button>
          <button class="confirm-button" id="confirmBtn">Confirm</button>
        </div>
      </div>
    </div>

    <!-- Opening dropdowns -->
    <script>
      const allAccordions = document.querySelectorAll(".accordion");
    
      allAccordions.forEach((accordion) => {
        accordion.addEventListener("click", function () {
          const isActive = this.classList.contains("active");
          const isMonth = this.classList.contains("month");
    
          // Close others at same level
          document.querySelectorAll(`.accordion${isMonth ? '.month' : ':not(.month)'}`).forEach(acc => {
            if (acc !== this) {
              acc.classList.remove("active");
              acc.nextElementSibling.style.display = "none";
            }
          });
    
          // Toggle current accordion
          if (!isActive) {
            this.classList.add("active");
            this.nextElementSibling.style.display = "block";
    
            // If this is a year accordion, collapse all child months inside it
            if (!isMonth) {
              const monthAccordions = this.nextElementSibling.querySelectorAll(".accordion.month");
              monthAccordions.forEach(month => {
                month.classList.remove("active");
                month.nextElementSibling.style.display = "none";
              });
            }
          } else {
            this.classList.remove("active");
            this.nextElementSibling.style.display = "none";
    
            // If this is a year accordion, collapse its child months too
            if (!isMonth) {
              const monthAccordions = this.nextElementSibling.querySelectorAll(".accordion.month");
              monthAccordions.forEach(month => {
                month.classList.remove("active");
                month.nextElementSibling.style.display = "none";
              });
            }
          }
        });
      });

      // Modal setup
      const modal = document.getElementById("dateModal");
      const modalText = document.getElementById("modalText");
      const cancelBtn = document.getElementById("cancelBtn");
      const confirmBtn = document.getElementById("confirmBtn");

      let selectedDate = null;

      // Attach event listeners to all day links
      document.querySelectorAll(".panel a").forEach(link => {
        link.addEventListener("click", function (event) {
          event.preventDefault(); // Prevent default navigation
          
          // Extract date path (year > month > day)
          const day = this.textContent.trim();
          const month = this.closest(".panel").previousElementSibling.textContent.trim();
          const year = this.closest(".accordion-container .panel").previousElementSibling.textContent.replace("-", "").trim();

          selectedDate = `${year} - ${month} ${day}`;
          modalText.innerText = `View analytics for ${selectedDate}?`;
          modal.style.display = "flex";
        });
      });

      // Modal button logic
      cancelBtn.onclick = () => {
        modal.style.display = "none";
        selectedDate = null;
      };

      confirmBtn.onclick = () => {
        modal.style.display = "none";

        // Handle confirmed date (you can replace this with actual logic)
        alert(`Loading data for ${selectedDate}`);
      };
    </script>

  </body>

</html>
