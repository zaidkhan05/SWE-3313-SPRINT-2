<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Manager Dashboard - Order History</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/M0.Style.css">
    <link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet'>
    
    <style>
      .modal {
          display: none;
          position: fixed;
          z-index: 1000;
          padding-top: 60px;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0,0,0,0.4);
      }
      
      .modal-content {
          background-color: #fefefe;
          margin: auto;
          padding: 20px;
          border: 1px solid #888;
          width: 50%;
          border-radius: 8px;
      }
      
      .close-button {
          color: #aaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
      }
      
      .close-button:hover,
      .close-button:focus {
          color: black;
          text-decoration: none;
          cursor: pointer;
      }
      </style>
  </head>

  <body>
    <div class="top-row">
      <div class="tab"><a href="M1.TableView.html"><h2>Table View</h2></a></div>
      <div class="tab"><a href="M2.Orders.html"><h2>Orders</h2></a></div>
      <div class="selectedTab"><h2>Order History</h2></div>
      <div class="tab"><a href="M4.Inventory.html"><h2>Inventory</h2></a></div>
      <div class="tab"><a href="M5.Analytics.html"><h2>Analytics</h2></a></div>
      <div class="tab"><a href="M6.EmployeeRegi.html"><h2>Employee Regi.</h2></a></div>
      <div class="tab"><a href="M7.ClockInHistory.html"><h2>Clock-In History</h2></a></div>
    </div>

    <!-- Orders Table Section -->
    <div class="container">

      <table>

        <thead>

          <tr>
            <th><u>OrderID</u></th>
            <th><u>TableID</u></th>
            <th><u>WaiterID</u></th>
            <th><u>Status</u></th>
            <th></th>
          </tr>

        </thead>
        
        <tbody>
          <!-- Sample Data Rows -->
          <tr>
            <td>004</td>
            <td>010</td>
            <td>001</td>
            <td><i>PENDING</i></td>
            <td><button class="view-button">View</button></td>
          </tr>
          <tr>
            <td>003</td>
            <td>012</td>
            <td>002</td>
            <td><i>PENDING</i></td>
            <td><button class="view-button">View</button></td>
          </tr>
          <tr>
            <td>002</td>
            <td>000</td>
            <td>000</td>
            <td>~10 min</td>
            <td><button class="view-button">View</button></td>
          </tr>
          <tr>
            <td>001</td>
            <td>001</td>
            <td>001</td>
            <td>READY</td>
            <td><button class="view-button">View</button></td>
          </tr>
          <tr>
            <td>000</td>
            <td>000</td>
            <td>000</td>
            <td>READY</td>
            <td><button class="view-button">View</button></td>
          </tr>

        </tbody>
        
      </table>

    </div>
    <div id="infoModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h3>Order Details</h3>
        <p id="orderDetails">Details will be loaded here.</p>
      </div>
  </div>

    <script>
        document.querySelectorAll('.view-button').forEach(button => {
            button.addEventListener('click', function() {
                const row = this.closest('tr');
                const orderID = row.children[0].textContent;
                const tableID = row.children[1].textContent;
                const waiterID = row.children[2].textContent;
                const status = row.children[3].textContent;
        
                const details = `
                    <strong>Order ID:</strong> ${orderID}<br>
                    <strong>Table ID:</strong> ${tableID}<br>
                    <strong>Waiter ID:</strong> ${waiterID}<br>
                    <strong>Status:</strong> ${status}<br>
                    <p>Order Item 1: Chicken Nachos<br><br>
                    Order Item 2: Mac & Cheese Bar<br>
                    &nbsp;&nbsp;&nbsp;&nbsp; -Topping 1: Bacon -Topping 2: Bacon<br>
                    &nbsp;&nbsp;&nbsp;&nbsp; -Side 1: Curly Fries -Side 2: Seasonal Vegetables</p>
                `;
                document.getElementById('orderDetails').innerHTML = details;
        
                document.getElementById('infoModal').style.display = 'block';
            });
        });
        
        document.querySelector('.close-button').addEventListener('click', () => {
            document.getElementById('infoModal').style.display = 'none';
        });
        
        window.onclick = function(event) {
            if (event.target == document.getElementById('infoModal')) {
                document.getElementById('infoModal').style.display = 'none';
            }
        }

    </script>
  </body>

</html>